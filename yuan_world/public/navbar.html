<!-- é€šç”¨å¯¼èˆªæ  -->
<nav id="mainNavbar" style="position: fixed; top: 0; left: 0; width: 100%; z-index: 1000; background: rgba(0,0,0,0.9); backdrop-filter: blur(10px); padding: 15px 0; border-bottom: 1px solid rgba(144,238,144,0.2);">
    <div style="max-width: 1400px; margin: 0 auto; padding: 0 40px; display: flex; justify-content: space-between; align-items: center;">
        <a href="/yuan/index.html" style="font-size: 1.5rem; font-weight: bold; background: linear-gradient(135deg, #90EE90, #37B679); -webkit-background-clip: text; -webkit-text-fill-color: transparent; text-decoration: none;">æºä¸–ç•Œ</a>

        <!-- æ¡Œé¢ç«¯èœå• -->
        <div id="desktopMenu" style="display: flex; gap: 30px; align-items: center;">
            <a href="/yuan/index.html" class="nav-item" style="color: #fff; font-weight: 500; text-decoration: none; transition: color 0.3s;">é¦–é¡µ</a>
            <a href="/yuan/gallery.html" class="nav-item" style="color: #fff; font-weight: 500; text-decoration: none; transition: color 0.3s;">æ¨¡æ¿ä¸­å¿ƒ</a>
            <a href="/yuan/before-after.html" class="nav-item" style="color: #fff; font-weight: 500; text-decoration: none; transition: color 0.3s;">Before/After</a>
            <a href="/yuan/tech-pricing.html" class="nav-item" style="color: #fff; font-weight: 500; text-decoration: none; transition: color 0.3s;">AIæŠ€æœ¯ä¸ä»·æ ¼</a>
            <a href="/yuan/user-management.html" id="userManagementLink" class="nav-item" style="display: none; color: #fff; font-weight: 500; text-decoration: none; transition: color 0.3s;">ğŸ‘¥ ç”¨æˆ·ç®¡ç†</a>
            <a href="/yuan/create.html" style="background: linear-gradient(135deg, #90EE90, #37B679); color: #111; padding: 10px 25px; border-radius: 25px; font-weight: 600; text-decoration: none; transition: transform 0.3s; display: inline-block;">ç«‹å³åˆ›ä½œ</a>
            <a href="/yuan/login.html" id="authLink" style="color: #90EE90; font-weight: 500; text-decoration: none; transition: color 0.3s;">ç™»å½•/æ³¨å†Œ</a>
        </div>

        <!-- æ‰‹æœºç«¯èœå•æŒ‰é’® -->
        <button id="mobileMenuBtn" onclick="toggleMobileNav()" style="display: none; background: none; border: none; color: #90EE90; font-size: 1.8rem; cursor: pointer; padding: 5px;">â˜°</button>
    </div>

    <!-- æ‰‹æœºç«¯ä¸‹æ‹‰èœå• -->
    <div id="mobileMenuDropdown" style="display: none; max-width: 1400px; margin: 0 auto; padding: 15px 40px 0; border-top: 1px solid rgba(144,238,144,0.2); margin-top: 15px;">
        <a href="/yuan/index.html" style="display: block; color: #fff; padding: 12px 0; font-weight: 500; text-decoration: none; border-bottom: 1px solid rgba(255,255,255,0.1);">é¦–é¡µ</a>
        <a href="/yuan/gallery.html" style="display: block; color: #fff; padding: 12px 0; font-weight: 500; text-decoration: none; border-bottom: 1px solid rgba(255,255,255,0.1);">æ¨¡æ¿ä¸­å¿ƒ</a>
        <a href="/yuan/before-after.html" style="display: block; color: #fff; padding: 12px 0; font-weight: 500; text-decoration: none; border-bottom: 1px solid rgba(255,255,255,0.1);">Before/After</a>
        <a href="/yuan/tech-pricing.html" style="display: block; color: #fff; padding: 12px 0; font-weight: 500; text-decoration: none; border-bottom: 1px solid rgba(255,255,255,0.1);">AIæŠ€æœ¯ä¸ä»·æ ¼</a>
        <a href="/yuan/create.html" style="display: block; background: linear-gradient(135deg, #90EE90, #37B679); color: #111; padding: 12px; border-radius: 8px; font-weight: 600; text-align: center; margin: 15px 0; text-decoration: none;">ç«‹å³åˆ›ä½œ</a>
    </div>
</nav>

<style>
    /* å¯¼èˆªæ æ‚¬åœæ•ˆæœ */
    .nav-item:hover {
        color: #90EE90 !important;
    }

    /* å“åº”å¼ */
    @media (max-width: 768px) {
        #desktopMenu {
            display: none !important;
        }
        #mobileMenuBtn {
            display: block !important;
        }
        #mainNavbar > div {
            padding: 0 20px !important;
        }
        #mobileMenuDropdown {
            padding: 15px 20px 0 !important;
        }
    }

    /* é¡µé¢å†…å®¹éœ€è¦é¡¶éƒ¨paddingé¿å…è¢«å¯¼èˆªæ é®æŒ¡ */
    body {
        padding-top: 70px;
    }
</style>

<script>
    // æ‰‹æœºèœå•åˆ‡æ¢
    function toggleMobileNav() {
        const dropdown = document.getElementById('mobileMenuDropdown');
        dropdown.style.display = dropdown.style.display === 'none' || !dropdown.style.display ? 'block' : 'none';
    }

    // æ£€æŸ¥ç™»å½•çŠ¶æ€
    const currentUser = JSON.parse(localStorage.getItem('currentUser'));
    if (currentUser) {
        const authLink = document.getElementById('authLink');
        if (authLink) {
            authLink.textContent = currentUser.username;
            authLink.href = '/yuan/create.html';
        }
        
        // å¦‚æœæ˜¯ç®¡ç†å‘˜ï¼Œæ˜¾ç¤ºç”¨æˆ·ç®¡ç†é“¾æ¥
        if (currentUser.is_admin) {
            const userManagementLink = document.getElementById('userManagementLink');
            if (userManagementLink) {
                userManagementLink.style.display = 'inline-block';
            }
        }
    }
</script>